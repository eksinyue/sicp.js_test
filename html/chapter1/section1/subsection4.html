<div class='chapter-title'>
	<div class='permalink'>
		<a name='top' class='permalink'>1.1.4 
          Functions
        </a>
	</div>
</div>
	<div class='chapter-text'>
		<div class='SECTION'><SUBSECTION>

            <div class='permalink'>
<a name='p1' class='permalink'></a><p>
              We have identified in 
              JavaScript
              some of the elements that must appear in
              any powerful programming language:
              <UL>
                <LI>
                  Numbers and arithmetic operations are 
                  primitive data and 
              functions.
                </LI>
                <LI>
                  Nesting of combinations provides a means of 
                  combining operations.
                </LI>
                <LI>
                  Constant declarations that associate names with values provide a
                  limited means of abstraction.
                </LI>
              </UL>
            </p></div>

        <SPLIT>
          
          
            <div class='permalink'>
<a name='p2' class='permalink'></a><p>
              Now we will learn about
              
              <EM>function declarations</EM>, a much more powerful abstraction
              technique by which a compound operation can be given a name and then
              referred to as a unit.
            </p></div>
            <div class='permalink'>
<a name='p3' class='permalink'></a><p>
              We begin by examining how to express the idea of <QUOTE>squaring.</QUOTE>  We
              might say, <QUOTE>To square something, take it times itself.</QUOTE>  This is
              expressed in our language as 
              
              
\begin{lrbox}{\lstbox}
\begin{JavaScriptClickable}
function square(x) {
    return x * x;
}
\end{JavaScriptClickable}
\end{lrbox}

\href{https://sourceacademy.nus.edu.sg/playground#chap=4&prgrm=GYVwdgxgLglg9mABAZwI4gIYCcCmAKADwEpEBvAKESsVyhCyQMQCpECBucgXyA}{\usebox\lstbox}


              
              We can understand this in the following way:
              
\begin{JavaScript}
function square(    x   ) { return x    *     x; }
//  ^       ^       ^         ^    ^    ^     ^
// To    square something,  take   it times itself.
\end{JavaScript}

              
              
              We have here a <EM>compound function</EM>, which has been given the name
              {\lstinline[mathescape=true]$square$}.  
              The function represents the operation of multiplying
              something by itself.  The thing to be multiplied is given a local
              name, {\lstinline[mathescape=true]$x$}, 
              which plays the same role that a pronoun plays in
              natural language.
              
              
              
              Evaluating the declaration creates this
              compound function and associates it with the name 
                {\lstinline[mathescape=true]$square$}.<a class='superscript' id='footnote-1' href='#footnote-1'>[1]</a>
            

              
            </p></div>
	  <hr><div class='footnote'>
<a class='footnote-number' id='footnote-1' href='#footnote-link-1'>[1] </a><FOOTNOTE>Observe 
                that there are two different operations
                being combined here: we are creating the function, and we are giving
                it the name {\lstinline[mathescape=true]$square$}.  
                It is possible, indeed important, to be
                able to separate these two notions—to create functions without
                naming them, and to give names to functions that have already been
                created.  We will see how to do this in section \ref{sec:lambda}.</FOOTNOTE></div>
        </SPLIT>

        <SPLIT>
          
          
            <div class='permalink'>
<a name='p4' class='permalink'></a><p>
              Our simplest form of a function declaration is
              
\begin{JavaScript}
function $\textit{name}$( $\textit{parameters}$ ) { return $\textit{expression}$; }
\end{JavaScript}

              
              
              The $\textit{name}$ 
              is a symbol to be associated with the function
              in the environment.<a class='superscript' id='footnote-2' href='#footnote-2'>[2]</a>
              
              $\textit{parameters}$ are
              the names used within the body of the function to refer to the
              corresponding arguments of the function.  The
              
              
              $\textit{expression}$ 
              after the keyword {\lstinline[mathescape=true]$return$}
	      is the <EM>return expression</EM> that will yield the value of
              the function application when the parameters are replaced by
              the arguments to which the function is 
              applied.<a class='superscript' id='footnote-3' href='#footnote-3'>[3]</a>$\textit{parameters}$
              are grouped within 
              
              parentheses and separated by commas, just as they
              would be in an actual call to the function being declared.
              
            
              The
	      $\textit{parameters}$
              are grouped within 
              
              parentheses and separated by commas, just as they
              would be in an actual call to the function being declared.
              
            
              The 
              
              
              $\textit{parameters}$ are
              the names used within the body of the function to refer to the
              corresponding arguments of the function.  The
              
              
              $\textit{expression}$ 
              after the keyword {\lstinline[mathescape=true]$return$}
	      is the <EM>return expression</EM> that will yield the value of
              the function application when the parameters are replaced by
              the arguments to which the function is 
              applied.<a class='superscript' id='footnote-4' href='#footnote-4'>[4]</a>$\textit{parameters}$
              are grouped within 
              
              parentheses and separated by commas, just as they
              would be in an actual call to the function being declared.
              
            
              The
	      $\textit{parameters}$
              are grouped within 
              
              parentheses and separated by commas, just as they
              would be in an actual call to the function being declared.
              
            </p></div>

            <div class='permalink'>
<a name='p5' class='permalink'></a><p>
              Having declared the {\lstinline[mathescape=true]$square$} function, 
              we can now use it in a <EM>function application expression</EM>,
	      which we turn into a statement using a semicolon:
              
\begin{lrbox}{\lstbox}
\begin{JavaScriptClickable}
square(21);
\end{JavaScriptClickable}
\end{lrbox}

\href{https://sourceacademy.nus.edu.sg/playground#chap=4&prgrm=M4RwrghgTgpgFAJgIwEoDcQ}{\usebox\lstbox}


	      The name {\lstinline[mathescape=true]$square$} is
	      the <EM>function expression</EM> of the application,
	      and {\lstinline[mathescape=true]$21$} is the
	      <EM>argument expression</EM>. 
              
\begin{lrbox}{\lstbox}
\begin{JavaScriptClickable}
square(2 + 5);
\end{JavaScriptClickable}
\end{lrbox}

\href{https://sourceacademy.nus.edu.sg/playground#chap=4&prgrm=M4RwrghgTgpgFAJgAQGokFYCUBuIA}{\usebox\lstbox}


	      Here, the argument expression is itself a compound expression,
	      the operator expression {\lstinline[mathescape=true]$2 + 5$}.
              
\begin{lrbox}{\lstbox}
\begin{JavaScriptClickable}
square(square(3));
\end{JavaScriptClickable}
\end{lrbox}

\href{https://sourceacademy.nus.edu.sg/playground#chap=4&prgrm=M4RwrghgTgpgFKSs4GYCUaDcQ}{\usebox\lstbox}


	      Of course application expressions can also serve as argument
	      expressions.
            </p></div>
          <hr><div class='footnote'>
<a class='footnote-number' id='footnote-4' href='#footnote-link-4'>[4] </a><FOOTNOTE>Throughout this book, we will
                
                
                describe the general syntax of programs by using italic symbols—e.g., 
                $\textit{name}$—to denote the
                <QUOTE>slots</QUOTE> in the expression to be filled in 
                when such an expression is actually used.</FOOTNOTE></div><hr><div class='footnote'>
<a class='footnote-number' id='footnote-4' href='#footnote-link-4'>[4] </a><FOOTNOTE>We shall see in the next section that
                
                the body of the function can be a sequence of statements.
                In this case, the interpreter evaluates each statement in the
                sequence in turn until a return statement determines the
                value of the function application.
              </FOOTNOTE></div><hr><div class='footnote'>
<a class='footnote-number' id='footnote-4' href='#footnote-link-4'>[4] </a><FOOTNOTE>We shall see in the next section that
                
                the body of the function can be a sequence of statements.
                In this case, the interpreter evaluates each statement in the
                sequence in turn until a return statement determines the
                value of the function application.
              </FOOTNOTE></div>
        </SPLIT>

        <SPLIT>
          
          
            <div class='permalink'>
<a name='p6' class='permalink'></a><p>
              We can also use {\lstinline[mathescape=true]$square$} 
              as a building block in declaring other
              functions.  For example, $x^2 +y^2$ 
              can be expressed as 
              
\begin{JavaScript}
square(x) + square(y);
\end{JavaScript}

            </p></div>
          
        </SPLIT>

        <SPLIT>
          
          
            <div class='permalink'>
<a name='p7' class='permalink'></a><p>
              We can easily declare a function
              {\lstinline[mathescape=true]$sum_of_squares$}
              that, given any two numbers as arguments, produces the
              sum of their squares:
              
\begin{lrbox}{\lstbox}
\begin{JavaScriptClickable}
function sum_of_squares(x,y) {
    return square(x) + square(y);
}
\end{JavaScriptClickable}
\end{lrbox}

\href{https://sourceacademy.nus.edu.sg/playground#chap=4&prgrm=GYVwdgxgLglg9mABAZxAWwPp2B5BHEAQwCcBTZACgA8AaATwEpEBvAKEQ8TKhGKXyJlqTANQoCJUhUYBuVgF8gA}{\usebox\lstbox}


              
              Now we can use {\lstinline[mathescape=true]$sum_of_squares$}
              as a building block in constructing further functions:
              
\begin{lrbox}{\lstbox}
\begin{JavaScriptClickable}
function f(a) {
    return sum_of_squares(a + 1, a * 2);
}
\end{JavaScriptClickable}
\end{lrbox}

\href{https://sourceacademy.nus.edu.sg/playground#chap=4&prgrm=GYVwdgxgLglg9mABMAFAQwJSIN4ChEGIBOAplCEUgM4gC2A+nMPVQI4hqlXqIDUiARgA0iNIgBUiAEwYA3LgC+QA}{\usebox\lstbox}


              
              
              The application of functions such as
              {\lstinline[mathescape=true]$sum_of_squares(3,4)$}
              is—after operator combination—the
	      second kind of combination
              of expressions into larger expressions that we encounter. 

	      In addition to compound functions, JavaScript provides a number of
	      <EM>primitive functions</EM> that are built into the interpreter.
	      An example is the function {\lstinline[mathescape=true]$math_log$}
	      that computes the natural logarithm of its
	      argument.<a class='superscript' id='footnote-5' href='#footnote-5'>[5]</a>{\lstinline[mathescape=true]$math_log(1)$} results in the number 0.

	      Primitive functions are used in exactly the same way as compound functions.
	      Indeed, one could not tell by looking at the definition
              of {\lstinline[mathescape=true]$sum_of_squares$} given above whether 
              {\lstinline[mathescape=true]$square$} was built into
              the interpreter, like {\lstinline[mathescape=true]$math_log$},
              or defined as a compound function.
	    
	      Evaluating the application expression 
	      {\lstinline[mathescape=true]$math_log(1)$} results in the number 0.

	      Primitive functions are used in exactly the same way as compound functions.
	      Indeed, one could not tell by looking at the definition
              of {\lstinline[mathescape=true]$sum_of_squares$} given above whether 
              {\lstinline[mathescape=true]$square$} was built into
              the interpreter, like {\lstinline[mathescape=true]$math_log$},
              or defined as a compound function.
	    </p></div>
          <hr><div class='footnote'>
<a class='footnote-number' id='footnote-5' href='#footnote-link-5'>[5] </a><FOOTNOTE>The Source language used in this adaptation introduces
	      names {\lstinline[mathescape=true]$math_*$} for all functions and
	      constants in JavaScript's
	      \href{https://www.ecma-international.org/ecma-262/9.0/index.html#sec-math-object}{Math library}.
	      </FOOTNOTE></div>
        </SPLIT>
      
</SUBSECTION>